var hyperHTML=function(e){"use strict";function n(e){return arguments.length<2?null==e?M("html"):"string"==typeof e?r(null,e):"raw"in e?M("html")(e):"nodeType"in e?t(e):D(e,"html"):("raw"in e?M("html"):r).apply(null,arguments)}function t(e){return u.bind(e)}function r(e,n){return arguments.length<1?M("html"):null==e?M(n||"html"):D(e,n||"html")}function i(e,n){for(var t=0,r=e.length,i=n.length;t<r;){if(!(t<i&&e[t]===n[t]))return t;t++}return t===i?-1:t}function a(e,n){switch(n.nodeType){case H:var t=e.childNodes;if(t[0]===n){o(t,1);break}l(e,n);break;case $:-1!==i(e.childNodes,n.childNodes)&&l(e,n);break;case P:e.textContent=n.textContent}}function o(e,n){for(var t,r=e.length;n<r--;)(t=e[r]).parentNode.removeChild(t)}function l(e,n){e.textContent="",e.appendChild(n)}function c(e,n,t){var r=b(e);0!==t?(o(e.childNodes,t),ne(r,n.slice(t)),e.appendChild(r)):(ne(r,n),l(e,r))}function u(e){var n=se.get(this);return n&&n.template===(V?O(e):e)||(n=function(e){V&&(e=O(e));var n,t=he.get(e)||function(e){var n=[],t=v(this,e.join(W)),r={fragment:t,paths:n};return function e(n,t,r){for(var i,a=n.childNodes,o=a.length,l=0;l<o;l++)switch(i=a[l],i.nodeType){case H:f(i,t,r),e(i,t,r);break;case _:i.textContent===q&&(r.shift(),1===o||C(i,"previous")&&C(i,"next")?(t.push(L("any",n)),l=o):t.push(L("virtual",i)));break;case P:F.test(n.nodeName)&&Z.call(i.textContent)===W&&(r.shift(),t.push(L("any",n)))}}(t,n,e.slice()),he.set(e,r),r}.call(this,e);if(de){var r=pe(t.fragment);n=function(e,n){for(var t,r,i=[],a=[],l=0,c=n.length;l<c;l++)t=n[l],(r=re(e,t.path)).nodeType===$&&(o(r.childNodes,0),r=this),i[l]=E(t,r,a,[]);return T(a),i}.call(this,r,t.paths),l(this,r)}else n=function(e,n){for(var t,r,i=[],a=[],o=0,l=n.length;o<l;o++)r=[],t=n[o],i[o]=E(t,m(this,e,t,r),a,r);return T(a),i}.call(this,t.fragment,t.paths);return{template:e,updates:n}}.apply(this,arguments),se.set(this,n)),function(){for(var e=1,n=arguments.length;e<n;e++)this[e-1](arguments[e])}.apply(n.updates,arguments),this}function s(e,n){var t,r=!n;return function l(u){switch(typeof u){case"string":case"number":case"boolean":r?t!==u&&(t=u,e.textContent=u):1===n.length&&n[0].nodeType===P?t!==u&&(t=u,n[0].textContent=u):(t=u,o(n,0),n=[g(e,u)],e.parentNode.insertBefore(n[0],e));break;case"function":l(r?u(e,te(e),0):u(e.parentNode,n,0));break;case"object":case"undefined":if(null==u){t=u,l("");break}default:if(t=u,Y(u)){var s=u.length;if(0!==s||r)switch(typeof u[0]){case"string":case"number":case"boolean":l({html:u});break;case"function":for(var f=r?e:e.parentNode,h=r?K.call(te(e)):n,d=0;d<s;d++)u[d]=u[d](f,h,d);r&&o(h,d),l(u.concat.apply([],u));break;case"object":if(Y(u[0])&&(u=u.concat.apply([],u)),x(u[0])){Promise.all(u).then(l);break}default:if(r)-1!==(d=i(e.childNodes,u))&&c(e,u,d);else S(e,n,u)}else o(n,0),n=[]}else if(function(e){return"ELEMENT_NODE"in e}(u))r?a(e,u):S(e,n,u.nodeType===$?K.call(u.childNodes):[u]);else if(x(u))u.then(l);else if("placeholder"in u)N(l,u);else if("text"in u)l(String(u.text));else if("any"in u)l(u.any);else if("html"in u){var p=[].concat(u.html).join("");if(r)e.innerHTML=p;else{o(n,0);var m=v(e,p);n=K.call(m.childNodes),e.parentNode.insertBefore(m,e)}}else l("length"in u?K.call(u):w(u))}}}function f(e,n,t){for(var r,i=q,a=e.attributes,o=0,l=a.length;o<l;o++)a[o].value===i&&(r=t.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)=['"]?$/,"$1"),n.push(L("attr",e.attributes[r.toLowerCase()],r)))}function h(e){return Q[e]}function d(e){return{html:e}}function p(e){return e.createDocumentFragment()}function v(e,n){return(z in e?function(e,n){var t=e.ownerDocument,r=p(t);if(I||J){var i=t.createElement("div");i.innerHTML='<svg xmlns="'+B+'">'+n+"</svg>",ne(r,K.call(i.firstChild.childNodes))}else{var i=t.createElementNS(B,"svg");i.innerHTML=n,ne(r,K.call(i.childNodes))}return r}:function(e,n){var t,r=e.ownerDocument,i=r.createElement("template"),a="content"in i,o=!1;if(a||(t=p(r),o=/^[^\S]*?<(t(?:head|body|foot|r|d|h))/i.test(n)),o){var l=RegExp.$1;i.innerHTML="<table>"+n+"</table>",ne(t,K.call(i.querySelectorAll(l)))}else i.innerHTML=n,a?t=i.content:ne(t,K.call(i.childNodes));return t})(e,n.replace(ie,oe))}function g(e,n){return e.ownerDocument.createTextNode(n)}function m(e,n,t,r){for(var i=e,a=e.ownerDocument,o=t.path,l=re(n,o),c=0,u=o.length;c<u;c++)switch(o[c++]){case"attributes":var s=l.name;e.hasAttribute(s)||e.setAttribute(s,""),i=e.attributes[s];break;case"childNodes":var f=te(e),h=te(l.parentNode),d=(i=ue(l))?o.indexOf.call(h,i)+1:-1,p=(i=ce(l))?o.indexOf.call(h,i):-1;switch(i=a.createComment(q),!0){case p<0:p=f.length;break;case d<0:d=0;default:p=-(h.length-p)}r.push.apply(r,K.call(f,d,p)),r.length?y(e,i,ce(r[r.length-1])):y(e,i,K.call(f,p)[0]),0===r.length&&k(e,i);break;default:e=i=te(e)[o[c]]||e.appendChild(e.ownerDocument.createElement(re(n,o.slice(0,c+1)).nodeName))}return i}function y(e,n,t){t?e.insertBefore(n,t):e.appendChild(n)}function b(e){return p(e.ownerDocument)}function N(e,n){e(n.placeholder),"text"in n?Promise.resolve(n.text).then(String).then(e):"any"in n?Promise.resolve(n.any).then(e):"html"in n?Promise.resolve(n.html).then(d).then(e):Promise.resolve(w(n)).then(e)}function w(e){for(var n in ee)if(e.hasOwnProperty(n))return ee[n](e[n])}function x(e){return null!=e&&"then"in e}function C(e,n){for(;null!=(e=e[n+"Sibling"])&&e.nodeType===P&&Z.call(e.textContent).length<1;);return null==e}function T(e){for(var n=0,t=e.length;n<t;n++)e[n++].removeAttribute(e[n])}function k(e,n){var t=n.previousSibling;t&&t.nodeType===P&&(e.removeChild(t),k(e,n))}function E(e,n,t,r){var i;switch(e.type){case"any":i=s(n,null);break;case"attr":i=function(e,n,t){var r,i=e.ownerElement,a=/^on/.test(t),o="data"===t||t in i&&!(z in i||F.test(t)),l=a?t.slice(2):"",c=a||o;return a&&t.toLowerCase()in i&&(l=l.toLowerCase()),c&&n.push(i,t),a?function(e){r!==e&&(r&&i.removeEventListener(l,r,!1),r=e,e&&i.addEventListener(l,e,!1))}:o?function(e){r!==e&&(r=e,i[t]!==e&&(null==e?(i[t]=null,i.removeAttribute(t)):i[t]=e))}:function(n){r!==n&&(r=n,e.value!==n&&(null==n?c||(c=!0,i.removeAttributeNode(e)):(e.value=n,c&&(c=!1,i.setAttributeNode(e)))))}}(n,t,e.name);break;case"virtual":i=s(n,r)}return i}function S(e,n,t){var r=i(n,t);if(-1!==r){var a=b(e);o(n,r),n.splice(r),t=t.slice(r),ne(a,t),e.parentNode.insertBefore(a,e),n.push.apply(n,t)}}function L(e,n,t){return{type:e,path:function(e){var n,t=[];switch(e.nodeType){case H:case $:n=e;break;case _:n=e.parentNode,t.unshift("childNodes",t.indexOf.call(n.childNodes,e));break;case j:default:n=e.ownerElement,t.unshift("attributes",e.name)}for(e=n;n=n.parentNode;e=n)t.unshift("children",t.indexOf.call(te(n),e));return t}(n),name:t}}function M(e){function r(n){c=p(n),l="svg"===e?n.createElementNS(B,"svg"):c,u=t(l)}function i(){return s&&(s=!1,"svg"===e&&ne(c,K.call(l.childNodes)),o=function(e){for(var n,t=[],r=e.childNodes,i=0,a=r.length;i<a;i++)(n=r[i]).nodeType!==H&&0===Z.call(n.textContent).length||t.push(n);return 1===t.length?t[0]:t}(c)),o}var a,o,l,c,u,s,f;return"adopt"===e?function(t){var o=arguments;return V&&(t=O(t)),f!==t&&(s=!0,f=t,a=function(t,a,f){return s&&(f<a.length?(l=a[f],c={ownerDocument:l.ownerDocument,childNodes:[l],children:[l]},u=n.adopt(c)):(z in t&&(e="svg"),r(t.ownerDocument))),u.apply(null,o),i()}),a}:function(e){return V&&(e=O(e)),f!==e&&(s=!0,f=e,r(n.document)),u.apply(null,arguments),i()}}function D(e,n){var t=fe.get(e),r=n.indexOf(":"),i=n;return-1<r&&(i=n.slice(r+1),n=n.slice(0,r)||"html"),t||(t={},fe.set(e,t)),t[i]||(t[i]=M(n))}n.document=e,n.hyper=n,n.adopt=function(e){return function(){return de=!1,u.apply(e,arguments),de=!0,e}},n.bind=t,n.define=function(e,n){ee[e]=n},n.escape=function(e){return e.replace(/[&<>'"]/g,h)},n.wire=r;var A,O,H=1,j=2,P=3,_=8,$=11,z="ownerSVGElement",B="http://www.w3.org/2000/svg",F=/^style$/i,R="_hyper_html: ",q=R+(Math.random()*new Date|0)+";",W="\x3c!--"+q+"--\x3e",G=p(e),V="object"==typeof navigator&&/Firefox\/(\d+)/.test(navigator.userAgent)&&parseFloat(RegExp.$1)<55,I=function(){var n=e.createElement("p");return n.innerHTML='<i data-i="" class=""></i>',/class/i.test(n.firstChild.attributes[0].name)}(),J=!("children"in G),K=[].slice,Q={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},U=typeof WeakMap==typeof U?function(){return{get:function(e){return e[R]},set:function(e,n){Object.defineProperty(e,R,{configurable:!0,value:n})}}}:WeakMap,X=typeof Map==typeof X?function(){var e=[],n=[];return{get:function(t){return n[e.indexOf(t)]},set:function(t,r){n[e.push(t)-1]=r}}}:Map,Y=Array.isArray||function(){var e={}.toString,n=e.call([]);return function(t){return e.call(t)===n}}(),Z=R.trim||function(){return this.replace(/^\s+|\s+$/g,"")},ee={};V&&(A={},O=function(e){var n="_"+e.join(W);return A[n]||(A[n]=e)});var ne="append"in G?function(e,n){e.append.apply(e,n)}:function(e,n){for(var t=0,r=n.length;t<r;t++)e.appendChild(n[t])},te=J||I?function(e){for(var n,t=[],r=e.childNodes,i=0,a=0,o=r.length;a<o;a++)(n=r[a]).nodeType===H&&(t[i++]=n);return t}:function(e){return e.children},re=I||J?function(e,n){for(var t,r=0,i=n.length;r<i;r++)switch(t=n[r++]){case"children":e=te(e)[n[r]];break;default:e=e[t][n[r]]}return e}:function(e,n){for(var t=0,r=n.length;t<r;t++)e=e[n[t++]][n[t]];return e},ie=/(<[a-z]+[a-z0-9:_-]*)((?:[^\S]+[a-z0-9:_-]+(?:=(?:'.*?'|".*?"|<.+?>|\S+))?)+)([^\S]*\/?>)/gi,ae=new RegExp("([^\\S][a-z]+[a-z0-9:_-]*=)(['\"]?)"+W+"\\2","gi"),oe=function(e,n,t,r){return n+t.replace(ae,le)+r},le=function(e,n,t){return n+(t||'"')+q+(t||'"')},ce=I?function(e){for(;e=e.nextSibling;)if(e.nodeType===H)return e}:function(e){return e.nextElementSibling},ue=I?function(e){for(;e=e.previousSibling;)if(e.nodeType===H)return e}:function(e){return e.previousElementSibling},se=new U,fe=new U,he=new X,de=!0,pe=(G.appendChild(g(G,"g")),G.appendChild(g(G,"")),1===G.cloneNode(!0).childNodes.length?function(e){for(var n=e.cloneNode(),t=e.childNodes||[],r=0,i=t.length;r<i;r++)n.appendChild(pe(t[r]));return n}:function(e){return e.cloneNode(!0)});return n}(document);try{module.exports=hyperHTML}catch(e){}
xtag.extensions.hyper={mixin:e=>(class extends e{set"hyper::attr"(e){this.render(e)}render(e){var r=e||"default",t=this.constructor.getOptions("hyper")[r];if(!t)throw new ReferenceError('hyperHTML template "'+r+'" is undefined');t.call(this,(this._hyper||(this._hyper={}))[r]||(this._hyper[r]=hyperHTML.bind(this)))}}),onParse:(e,r,t,s)=>(e.getOptions("hyper")[r||"default"]=s.value,!1),onConstruct(e,r,t){JSON.parse(t[0]||!1)&&e.render(r)}};